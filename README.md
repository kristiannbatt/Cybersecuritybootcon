# Cybersecuritybootcon
Process of creating a virtual machine to function as a honey pot—a decoy system designed to attract and analyze malicious activity

In this demonstration you will see the process of creating a virtual machine to function as a honey pot—a decoy system designed to attract and analyze malicious activity. To maximize the honey pot's effectiveness, we implemented an inbound security rule designed specifically for the virtual machine to grant permission for all types of traffic to enter the system without any restrictions.

To streamline log management and analysis, we established a Log Analytics Workspace. This dedicated environment serves as a centralized repository for storing logs generated by various systems, including our virtual machine. By carefully configuring the workspace, we ensure efficient log assimilation and enable seamless integration with other cybersecurity tools.

To harness the full potential of our log data, we integrated the Log Analytics Workspace with Microsofts SIEM, Sentinel. This connection allows for seamless data flow between the two components and ensures that our log data is readily available for advanced correlation and reporting within the platform and unlocks the ability to incorporate geographical data into our analysis so we gain a visual representation of the origin and distribution of the attacks

We used remote desktop connection to access our virtual machine. Once connected, we proceeded to modify the firewall settings to create a controlled environment for vulnerability assessment. We intentionally turned off the Domain, Private, and Public Firewalls within our Honey pot ensuring that it was susceptible to potential brute force attacks.

To enhance our event monitoring capabilities, we installed and configured a custom PowerShell script developed by Josh Madaker. This script is specifically designed to analyze the event viewer for occurrences of event ID 4625 or failed logins within the machine. 

To enrich the collected log information, we incorporated an API into the PowerShell script which allowed us to retrieve additional details, such as IP addresses and country information, related to the failed login events.

To capture and analyze attack data from the virtual machine, we established a 
custom log within our Log Analytics Workspace, leveraging the information obtained from the file log in the virtual machine. Through the creation of custom fields and careful parsing of the RawData, we established a streamlined process that automatically updates the log in real-time as the machine encounters attacks. Each security event is recorded and fed into the log, providing a comprehensive view of the ongoing attack landscape. The information stored within the custom log serves as the foundation for generating our map

By leveraging query commands, we separate and extract the required data to train the extraction algorithm. Finally, we integrated the extracted information into a workbook within Microsoft Sentinel which acts as a centralized platform for organizing and visualizing relevant security data. By adding the custom query that we just created to the workbook we can gain a visual representation of the attacks on a world map. With the world map visualization in place, we can continuously monitor and map the attacks as our VM faces relentless abuse.
